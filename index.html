<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Tienda Online - Productos de Calidad</title>
  <meta name="description" content="Compra los mejores productos al mejor precio. EnvÃ­os rÃ¡pidos y seguros ðŸššâœ¨.">

  <!-- Open Graph -->
  <meta property="og:title" content="Tienda Online - Productos de Calidad">
  <meta property="og:description" content="Compra los mejores productos al mejor precio. EnvÃ­os rÃ¡pidos y seguros ðŸššâœ¨.">
  <meta property="og:image" content="img/logo-tienda.png">
  <meta property="og:type" content="website">

  <!-- Estilos -->
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- Header -->
  <header>
    <div class="logo">
      <img src="img/logo-tienda.png" alt="Logo Tienda">
    </div>
    <nav class="nav">
      <a href="#inicio">Inicio</a>
      <a href="#productos">Productos</a>
      <a href="#populares">Populares</a>
      <a href="#carrito">Carrito</a>
    </nav>
    <div class="hamburger" id="hamburger-btn">
      <span></span><span></span><span></span>
    </div>
  </header>

  <!-- Hero -->
  <section class="hero" id="inicio">
    <div class="hero-texto">
      <h1>Tienda En LÃ­nea RÃ¡pida y Segura</h1>
      <p>Ofrecemos los mejores productos de calidad.</p>
      <a href="#productos" class="btn">Ver catÃ¡logo</a>
    </div>
    <div class="hero-img">
      <img src="img/trabajo.jpeg" alt="Desarrollo Web">
    </div>
  </section>

  <!-- Nuestros Productos -->
  <section class="productos section" id="productos">
    <h2>Nuestros Productos</h2>
    <div class="grid">
      <article class="card product-card"
               data-id="p1"
               data-title="Producto 1"
               data-price="20"
               data-image="img/producto.jpeg">
        <img src="img/producto.jpeg" alt="Producto 1">
        <h3>Producto 1</h3>
        <p class="price">S/ 20.00</p>
        <button class="btn" data-action="add">Agregar al carrito</button>
      </article>

      <article class="card product-card"
               data-id="p2"
               data-title="Producto 2"
               data-price="35"
               data-image="img/producto2.jpeg">
        <img src="img/producto2.jpeg" alt="Producto 2">
        <h3>Producto 2</h3>
        <p class="price">S/ 35.00</p>
        <button class="btn" data-action="add">Agregar al carrito</button>
      </article>
    </div>
  </section>

  <!-- Productos Populares -->
  <section class="populares section" id="populares">
    <h2>Productos MÃ¡s Populares</h2>
    <div class="grid">
      <article class="card product-card"
               data-id="pop1"
               data-title="Popular 1"
               data-price="50"
               data-image="img/popular.jpeg">
        <img src="img/popular.jpeg" alt="Popular 1">
        <h3>Popular 1</h3>
        <p class="price">S/ 50.00</p>
        <button class="btn" data-action="add">Agregar al carrito</button>
      </article>

      <article class="card product-card"
               data-id="pop2"
               data-title="Popular 2"
               data-price="40"
               data-image="img/popular2.jpeg">
        <img src="img/popular2.jpeg" alt="Popular 2">
        <h3>Popular 2</h3>
        <p class="price">S/ 40.00</p>
        <button class="btn" data-action="add">Agregar al carrito</button>
      </article>
    </div>
  </section>

  <!-- Carrito -->
  <section class="carrito section" id="carrito">
    <h2>ðŸ›’ Carrito</h2>
    <div id="cart-items"></div>
    <p>Subtotal: <strong id="cart-subtotal">S/ 0.00</strong></p>
    <p>Productos en carrito: <strong id="cart-count">0</strong></p>
    <button class="btn" id="empty-cart">Vaciar carrito</button>
  </section>

  <!-- Scripts -->
  <script src="script.js"></script>
  <script>
  (() => {
    const ready = (fn) => document.readyState !== "loading" ? fn() : document.addEventListener("DOMContentLoaded", fn);

    ready(() => {
      const toNumber = (v) => Number(String(v).replace(/[^\d.]/g, "")) || 0;

      document.querySelectorAll(".product-card").forEach((card) => {
        const btn = card.querySelector("[data-action='add']");
        btn.addEventListener("click", () => {
          const id = card.dataset.id;
          const title = card.dataset.title;
          const price = Number(card.dataset.price);
          const image = card.dataset.image;
          addToCart({ id, title, price, image }, 1);
          renderCart();
        });
      });

      document.getElementById("empty-cart").addEventListener("click", () => {
        cart = [];
        renderCart();
      });
    });

    let cart = [];

    function addToCart(product, qty) {
      const item = cart.find(p => p.id === product.id);
      if (item) item.qty += qty;
      else cart.push({ ...product, qty });
    }

    function renderCart() {
      const itemsDiv = document.getElementById("cart-items");
      const subtotalEl = document.getElementById("cart-subtotal");
      const countEl = document.getElementById("cart-count");

      itemsDiv.innerHTML = "";
      let subtotal = 0, count = 0;

      cart.forEach(p => {
        subtotal += p.price * p.qty;
        count += p.qty;
        itemsDiv.innerHTML += `<p>${p.title} x${p.qty} - S/ ${(p.price * p.qty).toFixed(2)}</p>`;
      });

      subtotalEl.textContent = "S/ " + subtotal.toFixed(2);
      countEl.textContent = count;
    }
  })();
  </script>
</body>
</html>